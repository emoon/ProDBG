#include "BackendHandler.h"
#include <QObject>
#include <QDebug>

namespace prodbg {

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

BackendHandler::BackendHandler(Session* session)
    : m_session(session)
    , m_currentPc(0)
{
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void BackendHandler::requestMemory(uint64_t lo, uint64_t hi, QVector<uint16_t>* target)
{
    qDebug() << "Got memory request!" << lo << " " << hi << " " << target;

    m_currentPc += 2;
    responseMemory(target, 2);
    programCounterChanged(m_currentPc);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
}
