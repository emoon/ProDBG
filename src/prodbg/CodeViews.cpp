#include "CodeViews.h"
#include "CodeView/CodeView.h"
#include <QDebug>
#include <QFileInfo>

namespace prodbg {

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

CodeViews::CodeViews(QWidget* parent)
    : QTabWidget(parent)
{
    setTabsClosable(true);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

CodeViews::~CodeViews()
{
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void CodeViews::toggleBreakpoint()
{
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void CodeViews::openFile(const QString& filename)
{
    QFileInfo info(filename);

    CodeView* codeView = new CodeView;
    codeView->initDefaultSourceFile(filename);
    codeView->setBreakpointModel(m_breakpoints);

    addTab(codeView, info.fileName());
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void CodeViews::toggleSourceAsm()
{
    qDebug() << "Toggle source asm";
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}
